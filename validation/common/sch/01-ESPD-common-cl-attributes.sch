<?xml version="1.0" encoding="UTF-8"?>
<schema xmlns="http://purl.oclc.org/dsdl/schematron" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <title>Common Criterion Business Rules</title>
    
    <ns prefix="cac" uri="urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2"/>
    <ns prefix="cbc" uri="urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2"/>
    
    <pattern id="BR-COM-CL-ATT">
        
        <!--
		ESPD code list values constraints - 01-ESPD-common-cl-attributes.sch
		Version 3.2.0
	
        $Id: 01-ESPD-common-cl-attributes.sch,v 3.2.0 $
        
        -->
        <!-- BR-OTH-03: Compulsory use of the code list identified within the document. -->
        <rule context="cbc:ConfidentialityLevelCode">
            <!--(access-right)-->
            <assert test="(false() or not(@listName != 'AccessRight'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listName"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listName = AccessRight'.</assert>
            <assert test="(false() or not(@listID != 'http://publications.europa.eu/resource/authority/access-right'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listID = http://publications.europa.eu/resource/authority/access-right'.</assert>
            <assert test="(false() or not(@listVersionID != '20220316-0'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listVersionID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listVersionID = 20220316-0'.</assert>
            <assert test="(false() or not(@listSchemeURI != 'http://publications.europa.eu/resource/distribution/access-right/20220316-0/xml/gc/AccessRight.gc'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listSchemeURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listSchemeURI = http://publications.europa.eu/resource/distribution/access-right/20220316-0/xml/gc/AccessRight.gc'.</assert>
            <assert test="(false() or not(@listURI != 'http://publications.europa.eu/resource/authority/access-right'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listURI = http://publications.europa.eu/resource/authority/access-right'.</assert>
            <assert test="(false() or not(@listAgencyName != 'Publications Office of the European Union'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listAgencyName"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listAgencyName = Publications Office of the European Union'.</assert>
            <assert test="(false() or not(@listAgencyID != 'OP'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listAgencyID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listAgencyID = OP'.</assert>
        </rule>
        <rule context="cac:Country/cbc:IdentificationCode">
            <!--(country)-->
            <assert test="(false() or not(@listName != 'country'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listName"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listName = country'.</assert>
            <assert test="(false() or not(@listID != 'http://publications.europa.eu/resource/authority/country'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listID = http://publications.europa.eu/resource/authority/country'.</assert>
            <assert test="(false() or not(@listVersionID != '20220928-0'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listVersionID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listVersionID = 20220928-0'.</assert>
            <assert test="(false() or not(@listSchemeURI != 'http://publications.europa.eu/resource/distribution/country/20220928-0/xml/gc/Country.gc'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listSchemeURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listSchemeURI = http://publications.europa.eu/resource/distribution/country/20220928-0/xml/gc/Country.gc'.</assert>
            <assert test="(false() or not(@listURI != 'http://publications.europa.eu/resource/dataset/country'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listURI = http://publications.europa.eu/resource/dataset/country'.</assert>
            <assert test="(false() or not(@listAgencyName != 'Publications Office of the European Union'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listAgencyName"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listAgencyName = Publications Office of the European Union'.</assert>
            <assert test="(false() or not(@listAgencyID != 'OP'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listAgencyID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listAgencyID = OP'.</assert>
        </rule>
        <rule context="cbc:TypeCode">
            <!--(CriterionElementType)-->            
            <assert test="(false() or not(@listName != 'CriterionElementType'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listName"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listName = CriterionElementType'.</assert>
            <assert test="(false() or not(@listID != 'criterion-element-type'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listID = criterion-element-type'.</assert>
            <assert test="(false() or not(@listSchemeURI != 'https://github.com/ESPD/ESPD-EDM/tree/v3.2.0/codelists/gc/CriterionElementType.gc'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listSchemeURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listSchemeURI = https://github.com/ESPD/ESPD-EDM/tree/v3.2.0/codelists/gc/CriterionElementType.gc'.</assert>
            <assert test="(false() or not(@listURI != 'https://github.com/ESPD/ESPD-EDM'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listURI = https://github.com/ESPD/ESPD-EDM'.</assert>
        </rule>
        <rule context="cbc:ValueCurrencyCode">
            <!--(currency)-->
            <assert test="(false() or not(@listName != 'Currency'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listName"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listName = Currency'.</assert>
            <assert test="(false() or not(@listID != 'http://publications.europa.eu/resource/authority/currency'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listID = http://publications.europa.eu/resource/authority/currency'.</assert>
            <assert test="(false() or not(@listVersionID != '20220928-0'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listVersionID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listVersionID = 20220928-0'.</assert>
            <assert test="(false() or not(@listSchemeURI != 'http://publications.europa.eu/resource/distribution/currency/20220928-0/xml/gc/Currency.gc'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listSchemeURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listSchemeURI = http://publications.europa.eu/resource/distribution/currency/20220928-0/xml/gc/Currency.gc'.</assert>
            <assert test="(false() or not(@listURI != 'http://publications.europa.eu/resource/authority/currency'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listURI = http://publications.europa.eu/resource/authority/currency'.</assert>
            <assert test="(false() or not(@listAgencyName != 'Publications Office of the European Union'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listAgencyName"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listAgencyName = Publications Office of the European Union'.</assert>
            <assert test="(false() or not(@listAgencyID != 'OP'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listAgencyID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listAgencyID = OP'.</assert>
        </rule>
        <rule context="cac:AdditionalReferenceDocument/cbc:DocumentTypeCode">
            <!--(docrefcontent-type)-->
            <assert test="(false() or not(@listName != 'DocrefcontentType'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listName"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listName = DocrefcontentType'.</assert>
            <assert test="(false() or not(@listID != 'http://publications.europa.eu/resource/authority/docrefcontent-type'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listID = http://publications.europa.eu/resource/authority/docrefcontent-type'.</assert>
            <assert test="(false() or not(@listSchemeURI != 'http://publications.europa.eu/resource/distribution/docrefcontent-type/20220928-0/xml/gc/DocrefcontentType.gc'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listSchemeURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listSchemeURI = http://publications.europa.eu/resource/distribution/docrefcontent-type/20220928-0/xml/gc/DocrefcontentType.gc'.</assert>
            <assert test="(false() or not(@listURI != 'http://publications.europa.eu/resource/dataset/docrefcontent-type'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listURI = http://publications.europa.eu/resource/dataset/docrefcontent-type'.</assert>
        </rule>
        <rule context="cac:EconomicOperatorParty/cac:EconomicOperatorRole/cbc:RoleCode">
            <!--(EoRoleType)-->
            <assert test="(false() or not(@listName != 'EoRoleType'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listName"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listName = EoRoleType'.</assert>
            <assert test="(false() or not(@listID != 'http://publications.europa.eu/resource/authority/eo-role-type'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listID = http://publications.europa.eu/resource/authority/eo-role-type'.</assert>
            <assert test="(false() or not(@listSchemeURI != 'http://publications.europa.eu/resource/distribution/eo-role-type/20211208-0/xml/gc/EoRoleType.gc'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listSchemeURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listSchemeURI = http://publications.europa.eu/resource/distribution/eo-role-type/20211208-0/xml/gc/EoRoleType.gc'.</assert>
            <assert test="(false() or not(@listURI != 'http://publications.europa.eu/resource/authority/eo-role-type'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listURI = http://publications.europa.eu/resource/authority/eo-role-type'.</assert>
            <assert test="(false() or not(@listAgencyName != 'Publications Office of the European Union'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listAgencyName"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listAgencyName = Publications Office of the European Union'.</assert>
            <assert test="(false() or not(@listAgencyID != 'OP'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listAgencyID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listAgencyID = OP'.</assert>
        </rule>
        <rule context="cac:TenderingCriterionPropertyGroup/cbc:PropertyGroupTypeCode">
            <!--(PropertyGroupType)-->
            <assert test="(false() or not(@listName != 'PropertyGroupType'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listName"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listName = PropertyGroupType'.</assert>
            <assert test="(false() or not(@listID != 'property-group-type'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listID = property-group-type'.</assert>
            <assert test="(false() or not(@listSchemeURI != 'https://github.com/ESPD/ESPD-EDM/tree/v3.2.0/codelists/gc/PropertyGroupType.gc'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listSchemeURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listSchemeURI = https://github.com/ESPD/ESPD-EDM/tree/v3.2.0/codelists/gc/PropertyGroupType.gc'.</assert>
            <assert test="(false() or not(@listURI != 'https://github.com/ESPD/ESPD-EDM'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listURI = https://github.com/ESPD/ESPD-EDM'.</assert>
        </rule>
        <rule context="cac:TenderingCriterionProperty/cbc:ValueDataTypeCode">
            <!--(ResponseDataType)-->
            <assert test="(false() or not(@listName != 'ResponseDataType'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listName"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listName = ResponseDataType'.</assert>
            <assert test="(false() or not(@listID != 'response-data-type'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listID = response-data-type'.</assert>
            <assert test="(false() or not(@listSchemeURI != 'https://github.com/ESPD/ESPD-EDM/tree/v3.2.0/codelists/gc/ResponseDataType.gc'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listSchemeURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listSchemeURI = https://github.com/ESPD/ESPD-EDM/tree/v3.2.0/codelists/gc/ResponseDataType.gc'.</assert>
            <assert test="(false() or not(@listURI != 'https://github.com/ESPD/ESPD-EDM'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listURI = https://github.com/ESPD/ESPD-EDM'.</assert>
        </rule>
        <rule context="cbc:CriterionTypeCode">
            <!--(criterion)-->
            <assert test="(false() or not(@listName != 'criterion'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listName"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listName = criterion'.</assert>
            <assert test="(false() or not(@listID != 'http://publications.europa.eu/resource/authority/criterion'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listID = http://publications.europa.eu/resource/authority/criterion'.</assert>
            <assert test="(false() or not(@listURI != 'http://publications.europa.eu/resource/dataset/criterion'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listURI = http://publications.europa.eu/resource/dataset/criterion'.</assert>
            <assert test="(false() or not(@listAgencyName != 'Publications Office of the European Union'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listAgencyName"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listAgencyName = Publications Office of the European Union'.</assert>
            <assert test="(false() or not(@listAgencyID != 'OP'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listAgencyID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listAgencyID = OP'.</assert>
        </rule>
		<rule context="cbc:occupation">
            <!--(occupation)-->
            <assert test="(false() or not(@listName != 'Occupation'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listName"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listName = occupation'.</assert>
		    <assert test="(false() or not(@listID != 'http://publications.europa.eu/resource/authority/occupation'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listID = http://publications.europa.eu/resource/authority/occupation'.</assert>
		    <assert test="(false() or not(@listURI != 'http://publications.europa.eu/resource/dataset/occupation'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listURI"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listURI = http://publications.europa.eu/resource/dataset/occupation'.</assert>
		    <assert test="(false() or not(@listAgencyName != 'DG Employment, Social Affairs and Inclusion'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listAgencyName"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listAgencyName = DG Employment, Social Affairs and Inclusion'.</assert>
		    <assert test="(false() or not(@listAgencyID != 'EMPL'))" flag="fatal">Invalid codelist attribute value '<value-of select="@listAgencyID"/>'. The element '<value-of select="name(ancestor::*[1])"/>/<value-of select="name()"/>' must have the following attribute and value: 'listAgencyID = EMPL'.</assert>
        </rule>        
    </pattern>
</schema>
